{"version":3,"sources":["../controller/routes.js","../provider/group.js","module-create.js"],"names":[],"mappings":"AAqBA,MAAA,CAAA,6BAAA,CAAA,EAAA,CAAA,UAAA,CACA,aAEA,MAAA,EAEA,CALA,C,CCDA,MAAA,CAAA,0BAAA,CAAA,CAAA,QAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA,cAAA,CAAA,cAAA,CAAA,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,OAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CACA,aAQA,MAAA,WAAA,CAKA,MAAA,CAYA,WAZA,sBAYA,MAZA,CAYA,CAUA,MAFA,CAAA,MAAA,CAAA,CAAA,CAAA,QAAA,CAAA,MAAA,EAAA,EAAA,CANA,CACA,QAAA,CAAA,6DADA,CAEA,EAAA,CAAA,iDAFA,CAGA,IAAA,CAAA,UAHA,CAMA,CAEA,CAAA,GAAA,CAAA,OAAA,CAAA,SAAA,OAAA,CAAA,MAAA,CAAA,CACA,WAAA,CAAA,CACA,GAAA,CAAA,OAAA,CAAA,KAAA,CAAA,aAAA,CAAA,QAAA,CAAA,WAAA,CADA,CAEA,MAAA,CAAA,MAFA,CAGA,IAAA,CAAA,MAHA,CAIA,QAAA,CAAA,MAJA,CAAA,CAAA,CAMA,IANA,CAMA,SAAA,KAAA,CAAA,CACA,OAAA,CAAA,KAAA,CACA,CARA,EASA,KATA,CASA,UAAA,CACA,MAAA,CAAA,GAAA,CAAA,KAAA,CAAA,EAAA,CAAA,4BAAA,CAAA,CAAA,CACA,CAXA,CAYA,CAbA,CAcA,CApCA,CA4CA,WA5CA,sBA4CA,GA5CA,CA4CA,CAEA,MAAA,IAAA,CAAA,OAAA,CAAA,SAAA,OAAA,CAAA,MAAA,CAAA,OAEA,CAAA,CAAA,CAAA,QAAA,CAAA,GAAA,CAAA,EAAA,CAAA,CAAA,OAAA,CAAA,GAAA,CAFA,CAGA,MAAA,CAAA,GAAA,CAAA,SAAA,CAAA,EAAA,CAAA,wBAAA,CAAA,CAAA,CAHA,KAMA,CAAA,WAAA,CAAA,CACA,GAAA,CAAA,OAAA,CAAA,KAAA,CAAA,QAAA,CAAA,QAAA,CAAA,WAAA,CADA,CAEA,MAAA,CAAA,MAFA,CAGA,IAAA,CAAA,CAAA,GAAA,CAAA,GAAA,CAHA,CAIA,QAAA,CAAA,MAJA,CAAA,CAAA,CAMA,IANA,CAMA,SAAA,QAAA,CAAA,CACA,OAAA,CAAA,QAAA,CACA,CARA,EASA,KATA,CASA,UAAA,CACA,MAAA,CAAA,GAAA,CAAA,KAAA,CAAA,EAAA,CAAA,wBAAA,CAAA,CAAA,CACA,CAXA,CAYA,CAlBA,CAmBA,CAjEA,CAmEA,CACA,CAlFA,C,CCnBA,MAAA,CAAA,mCAAA,CAAA,UAAA,CAAA,CAAA,C","sourcesContent":["/**\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU General Public License\r\n * as published by the Free Software Foundation; under version 2\r\n * of the License (non-upgradable).\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program; if not, write to the Free Software\r\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n *\r\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\r\n * \r\n * \r\n */\r\n\r\n//@see http://forge.taotesting.com/projects/tao/wiki/Front_js\r\ndefine('taoGroups/controller/routes',[],function(){\r\n    'use strict';\r\n\r\n    return {\r\n    };\r\n});\r\n\n","/**\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU General Public License\r\n * as published by the Free Software Foundation; under version 2\r\n * of the License (non-upgradable).\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program; if not, write to the Free Software\r\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n *\r\n * Copyright (c) 2017-2019  (original work) Open Assessment Technologies SA;\r\n *\r\n * @author Alexander Zagovorichev <zagovorichev@1pt.com>\r\n */\r\n\r\ndefine('taoGroups/provider/group',['jquery', 'lodash', 'i18n', 'util/url', 'core/promise', 'core/request'], function ($, _, __, urlUtil, Promise, coreRequest) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Creates a group provider\r\n     *\r\n     * @typedef {Object} groupProvider\r\n     * @type {{addInstance: groupProvider.addInstance}}\r\n     */\r\n    return function groupProviderFactory () {\r\n\r\n        /**\r\n         * @returns {groupProvider}\r\n         */\r\n        return {\r\n\r\n            /**\r\n             * Create new group\r\n             *\r\n             * @param config\r\n             * @param {String} [config.classUri] - rdf uri of the Group for current environment\r\n             * @param {String} [config.id] - id of the Group for current environment\r\n             * @param {String} [config.signature] - id signature received from BE, required\r\n             * @param {String} [config.type] - Type of the instance\r\n             * @return {*}\r\n             */\r\n            addInstance (config) {\r\n\r\n                const _defaults = {\r\n                    classUri: 'http_2_www_0_tao_0_lu_1_Ontologies_1_TAOGroup_0_rdf_3_Group',\r\n                    id: 'http://www.tao.lu/Ontologies/TAOGroup.rdf#Group',\r\n                    type: 'instance'\r\n                };\r\n\r\n                config = _.defaults(config || {}, _defaults);\r\n\r\n                return new Promise((resolve, reject) => {\r\n                        coreRequest({\r\n                            url: urlUtil.route('addInstance', 'Groups', 'taoGroups'),\r\n                            method: 'POST',\r\n                            data: config,\r\n                            dataType: 'json',\r\n                        })\r\n                        .then(function (group) {\r\n                            resolve(group);\r\n                        })\r\n                        .catch(function () {\r\n                            reject(new Error(__('Unable to create new group')));\r\n                        });\r\n                });\r\n            },\r\n\r\n            /**\r\n             * Group deleting\r\n             *\r\n             * @param uri\r\n             * @return {*}\r\n             */\r\n            deleteGroup (uri) {\r\n\r\n                return new Promise((resolve, reject) => {\r\n\r\n                    if (!_.isString(uri) || _.isEmpty(uri)) {\r\n                        return reject(new TypeError(__('Group uri is not valid')));\r\n                    }\r\n\r\n                    coreRequest({\r\n                        url: urlUtil.route('delete', 'Groups', 'taoGroups'),\r\n                        method: 'POST',\r\n                        data: {uri: uri},\r\n                        dataType: 'json',\r\n                    })\r\n                    .then(function (response) {\r\n                        resolve(response);\r\n                    })\r\n                    .catch(function () {\r\n                        reject(new Error(__('Unable to delete group')));\r\n                    });\r\n                });\r\n            }\r\n        };\r\n    };\r\n});\r\n\n","\ndefine(\"taoGroups/loader/taoGroups.bundle\", function(){});\n"]}