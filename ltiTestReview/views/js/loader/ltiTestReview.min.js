function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}define("tpl!ltiTestReview/review/component/tpl/qtiTestReviewComponent",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},"<div class=\"previewer-component\"></div>"})}),define("css!ltiTestReview/review/component/css/qtiTestReviewComponent",[],function(){}),define("css!ltiTestReview/review/provider/css/qtiTestReviewProvider",[],function(){}),define("ltiTestReview/review/component/qtiTestReviewComponent",["context","taoTests/runner/runnerComponent","tpl!ltiTestReview/review/component/tpl/qtiTestReviewComponent","css!ltiTestReview/review/component/css/qtiTestReviewComponent","css!ltiTestReview/review/provider/css/qtiTestReviewProvider"],function(context,runnerComponentFactory,runnerTpl){'use strict';var extractOptions=function(config){var _config$fullPage=config.fullPage,_config$readOnly=config.readOnly,_config$showScore=config.showScore,_config$showCorrect=config.showCorrect,_config$pluginsOption=config.pluginsOptions,pluginsOptions=void 0===_config$pluginsOption?{}:_config$pluginsOption;return{fullPage:void 0!==_config$fullPage&&_config$fullPage,readOnly:void 0!==_config$readOnly&&_config$readOnly,showScore:void 0!==_config$showScore&&_config$showScore,showCorrect:void 0!==_config$showCorrect&&_config$showCorrect,plugins:pluginsOptions}};return function(container){var config=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},template=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,testRunnerConfig={testDefinition:config.testDefinition||"test-container",serviceCallId:config.testUri&&config.testUri.resultId||"review",providers:{runner:{id:"qtiTestReviewProvider",module:"ltiTestReview/review/provider/qtiTestReviewProvider",bundle:"ltiTestReview/loader/ltiTestReview.min",category:"runner"},proxy:{id:"qtiTestReviewProxy",module:"ltiTestReview/review/proxy/qtiTestReviewProxy",bundle:"ltiTestReview/loader/ltiTestReview.min",category:"proxy"},communicator:{id:"request",module:"core/communicator/request",bundle:"loader/vendor.min",category:"communicator"},plugins:config.plugins||[]},options:extractOptions(config)};return testRunnerConfig.loadFromBundle=!!context.bundle,runnerComponentFactory(container,testRunnerConfig,template||runnerTpl).on("render",function(){var _this$getConfig$optio=this.getConfig().options,fullPage=_this$getConfig$optio.fullPage,readOnly=_this$getConfig$optio.readOnly,showScore=_this$getConfig$optio.showScore,showCorrect=_this$getConfig$optio.showCorrect;this.setState("fullpage",fullPage),this.setState("readonly",readOnly),this.setState("showscore",showScore),this.setState("showcorrect",showCorrect)}).on("ready",function(runner){var _this=this;runner.on("destroy",function(){return _this.destroy()})})}}),define("ltiTestReview/review/config/qtiTestReviewConfig",["lodash","util/url","util/config"],function(_,urlUtil,configHelper){'use strict';var _defaults={bootstrap:{serviceController:"Review",serviceExtension:"ltiTestReview"}},_entries={serviceCallId:!0,bootstrap:!1,timeout:!1};return function(config){var storage=configHelper.from(config,_entries,_defaults);return storage.timeout?storage.timeout*=1e3:storage.timeout=void 0,{getParameters:function getParameters(itemIdentifier){var type=_typeof(itemIdentifier),parameters={serviceCallId:this.getServiceCallId()};if("string"===type)parameters.itemUri=itemIdentifier;else if("object"===type&&_.isPlainObject(itemIdentifier))Object.assign(parameters,itemIdentifier);else if("undefined"!==type)throw new TypeError("Wrong parameter type provided for itemIdentifier: "+type+". Only string or plain object are allowed!");return parameters},getServiceCallId:function getServiceCallId(){return storage.serviceCallId},getServiceController:function getServiceController(){return storage.bootstrap.serviceController||_defaults.bootstrap.serviceController},getServiceExtension:function getServiceExtension(){return storage.bootstrap.serviceExtension||_defaults.bootstrap.serviceExtension},getTestActionUrl:function getTestActionUrl(action){return urlUtil.route(action,this.getServiceController(),this.getServiceExtension(),this.getParameters())},getItemActionUrl:function getItemActionUrl(itemIdentifier,action){return urlUtil.route(action,this.getServiceController(),this.getServiceExtension(),this.getParameters(itemIdentifier))},getTimeout:function getTimeout(){return storage.timeout},getCommunicationConfig:function getCommunicationConfig(){var communication=storage.bootstrap.communication||{},extension=communication.extension||this.getServiceExtension(),controller=communication.controller||this.getServiceController(),action=communication.action||"message",syncActions=communication.syncActions||[],serviceCallId=this.getServiceCallId(),service=communication.service||urlUtil.route(action,controller,extension,{serviceCallId:serviceCallId}),params=Object.assign({},communication.params||{},{service:service});return params.timeout?params.timeout*=1e3:params.timeout=storage.timeout,params.interval&&(params.interval*=1e3),{enabled:communication.enabled,type:communication.type,params:params,syncActions:syncActions}}}}}),define("tpl!ltiTestReview/review/plugins/content/item-answer/tpl/item-answer",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1;return stack1=helpers["if"].call(depth0,depth0&&depth0.score,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),stack1||0===stack1?stack1:""}function program2(depth0,data){var stack1,helper,buffer="";return(helper=helpers.scoreText)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.scoreText,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+" ",(helper=helpers.score)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.score,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1),buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",escapeExpression=this.escapeExpression,self=this;return buffer+="<div class=\"item-answer\">\n    <div class=\"item-answer-bar\">\n        <div class=\"item-answer-tabs\"></div>\n        <div class=\"item-answer-score\">",stack1=helpers["if"].call(depth0,depth0&&depth0.showScore,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</div>\n    </div>\n    <div class=\"item-answer-status\"></div>\n</div>",buffer})}),define("tpl!ltiTestReview/review/plugins/content/item-answer/tpl/answer-tabs",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+="\n    <li class=\"tab ",(helper=helpers.cls)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.cls,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" data-tab-name=\"",(helper=helpers.name)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.name,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n        <button class=\"action navigable\" tabindex=\"0\" ",stack1=helpers["if"].call(depth0,depth0&&depth0.disabled,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">\n            ",stack1=helpers["if"].call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n            ",stack1=helpers["if"].call(depth0,depth0&&depth0.label,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        </button>\n    </li>\n    ",buffer}function program2(){return"disabled"}function program4(depth0,data){var stack1,helper,buffer="";return buffer+="<span class=\"icon icon-",(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\"></span>",buffer}function program6(depth0,data){var stack1,helper,buffer="";return buffer+="<span class=\"label\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>",buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",escapeExpression=this.escapeExpression,self=this;return buffer+="<ul class=\"answer-tabs\">\n    ",stack1=helpers.each.call(depth0,depth0&&depth0.tabs,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</ul>",buffer})}),define("css!ltiTestReview/review/plugins/content/item-answer/css/item-answer",[],function(){}),define("ltiTestReview/review/plugins/content/item-answer/item-answer",["lodash","i18n","ui/component","ui/tabs","util/capitalize","tpl!ltiTestReview/review/plugins/content/item-answer/tpl/item-answer","tpl!ltiTestReview/review/plugins/content/item-answer/tpl/answer-tabs","css!ltiTestReview/review/plugins/content/item-answer/css/item-answer"],function(_,__,componentFactory,tabsFactory,capitalize,itemAnswerTpl,answerTabsTpl){'use strict';var defaults={skippedText:__("No response"),scoreText:__("Your Score:"),status:"informational",showScore:!0,showCorrect:!0,score:""},correctTab={name:"correct",label:__("Correct response")},answerCorrectTab={name:"answer",label:__("Your response"),icon:"correct",cls:"correct"},answerIncorrectTab={name:"answer",label:__("Your response"),icon:"incorrect",cls:"incorrect"},answeredTab={name:"answer",label:__("Your response"),icon:"answered",cls:"answered"},skippedTab={name:"answer",label:__("Your response"),icon:"skipped",cls:"skipped"},informationalTab={name:"answer",label:__("Informational item"),icon:"informational",cls:"informational"},tabsSets={answered:[answeredTab],skipped:[skippedTab],correct:[answerCorrectTab],incorrect:[answerIncorrectTab,correctTab],informational:[informationalTab]},tabsByStatusWithCorrect={correct:tabsSets.correct,incorrect:tabsSets.incorrect,skipped:tabsSets.incorrect,informational:tabsSets.informational},tabsByStatusWithoutCorrect={correct:tabsSets.answered,incorrect:tabsSets.answered,skipped:tabsSets.skipped,informational:tabsSets.informational},states=["correct","incorrect","skipped","informational"];return function(container,config){var controls=null,activeTab="answer",itemAnswer=componentFactory({getScore:function getScore(){return this.getConfig().score},setScore:function setScore(score){if((score||"number"==typeof score)&&this.getConfig().showScore||(score=""),this.getConfig().score="".concat(score),this.is("rendered")){var scoreLine=this.getConfig().score&&"".concat(this.getConfig().scoreText," ").concat(this.getConfig().score);controls.$score.text(scoreLine)}return this},getStatus:function getStatus(){return this.getConfig().status},setStatus:function setStatus(status){var _this2=this,change=this.getConfig().status!==status;return this.getConfig().status=status,states.forEach(function(state){return _this2.setState(state,status===state)}),this.trigger("statuschange",status,change),this},getActiveTab:function getActiveTab(){return activeTab},isCorrect:function isCorrect(){return this.is("correct")},isSkipped:function isSkipped(){return this.is("skipped")&&!this.isCorrect()},isInformational:function isInformational(){return this.is("informational")},setCorrect:function setCorrect(){return this.setStatus("correct")},setIncorrect:function setIncorrect(){return this.setStatus("incorrect")},setSkipped:function setSkipped(){return this.setStatus("skipped")},setInformational:function setInformational(){return this.setStatus("informational")}},defaults).setTemplate(itemAnswerTpl).on("init",function(){var _this3=this;_.defer(function(){return _this3.render(container)})}).on("render",function(){var _this4=this;controls={$tabs:this.getElement().find(".item-answer-tabs"),$score:this.getElement().find(".item-answer-score"),$status:this.getElement().find(".item-answer-status")};var tabsByStatus=this.getConfig().showCorrect?tabsByStatusWithCorrect:tabsByStatusWithoutCorrect,tabs=tabsByStatus[this.getStatus()],tabsComponent=tabsFactory(controls.$tabs,{activeTab:activeTab,tabs:tabs}).setTemplate(answerTabsTpl).on("tabchange",function(name){activeTab=name,"answer"===name&&"skipped"===_this4.getStatus()?controls.$status.text(_this4.getConfig().skippedText):controls.$status.text(""),_this4.trigger("tabchange",name)}).on("ready",function(){_this4.setState("ready",!0).trigger("ready")});this.setState("show-score",this.getConfig().showScore).setState("show-correct",this.getConfig().showCorrect).on("statuschange",function(status,change){change&&tabs!==tabsByStatus[status]?(tabs=tabsByStatus[status],tabsComponent.setTabs(tabs),_this4.is("disabled")&&tabsComponent.disable()):tabsComponent.trigger("tabchange",_this4.getActiveTab())}).on("disable",function(){return tabsComponent.disable()}).on("enable",function(){return tabsComponent.enable()}).on("destroy",function(){tabsComponent.destroy()});var statusInit="set".concat(capitalize(this.getConfig().status));"function"==typeof this[statusInit]&&this[statusInit]()}).on("destroy",function(){controls=null});return _.defer(function(){return itemAnswer.init(config)}),itemAnswer}}),define("ltiTestReview/review/plugins/content/item-answer/plugin",["lodash","core/promiseTimeout","taoTests/runner/plugin","taoQtiTest/runner/helpers/currentItem","taoQtiTest/runner/helpers/map","ltiTestReview/review/plugins/content/item-answer/item-answer"],function(_,promiseTimeout,pluginFactory,itemHelper,mapHelper,itemAnswerFactory){'use strict';var getItemResponse=function(testRunner){var context=testRunner.getTestContext(),dataHolder=testRunner.getDataHolder(),response=null;if(context){var itemIdentifier=context.itemIdentifier,responses=dataHolder.get("testResponses");response=responses[itemIdentifier]}return response},getItemCorrectResponse=function(testRunner){var declarations=itemHelper.getDeclarations(testRunner),response={};return _.forEach(declarations,function(declaration){var attributes=declaration.attributes,_ref=attributes||{},identifier=_ref.identifier,baseType=_ref.baseType,cardinality=_ref.cardinality;response[identifier]={response:itemHelper.toResponse(declaration.correctResponse,baseType,cardinality)}}),response},setItemState=function(name,testRunner){var itemRunner=testRunner.itemRunner,_testRunner$getOption=testRunner.getOptions(),showCorrect=_testRunner$getOption.showCorrect,response=null;itemRunner&&("correct"===name&&showCorrect?response=getItemCorrectResponse(testRunner):testRunner.getTestContext()&&(response=getItemResponse(testRunner)),response&&itemRunner.setState(response))};return pluginFactory({name:"item-answer",init:function init(){var _this5=this;this.getTestRunner().on("enablenav",function(){return _this5.enable()}).on("disablenav",function(){return _this5.disable()})},render:function render(){var _this6=this;return promiseTimeout(new Promise(function(resolve){var testRunner=_this6.getTestRunner(),_testRunner$getOption2=testRunner.getOptions(),showScore=_testRunner$getOption2.showScore,showCorrect=_testRunner$getOption2.showCorrect,itemAnswer=itemAnswerFactory(_this6.getAreaBroker().getArea("itemTool"),Object.assign({showScore:showScore,showCorrect:showCorrect},_this6.getConfig()));itemAnswer.on("tabchange",function(name){return setItemState(name,testRunner)}).on("ready",resolve),testRunner.on("renderitem",function(itemRef){var item=mapHelper.getItem(testRunner.getTestMap(),itemRef),score=item.informational?"":"".concat(item.score,"/").concat(item.maxScore);itemAnswer.setScore(score),item.informational?itemAnswer.setInformational():item.score&&item.score===item.maxScore?itemAnswer.setCorrect():item.skipped?itemAnswer.setSkipped():itemAnswer.setIncorrect(),testRunner.getAreaBroker().getContentArea().find("[tabindex]").attr("tabindex",-1)}).on("plugin-show.".concat(_this6.getName()),function(){return itemAnswer.show()}).on("plugin-hide.".concat(_this6.getName()),function(){return itemAnswer.hide()}).on("plugin-enable.".concat(_this6.getName()),function(){return itemAnswer.enable()}).on("plugin-disable.".concat(_this6.getName()),function(){return itemAnswer.disable()}).on("plugin-destroy.".concat(_this6.getName()),function(){return itemAnswer.destroy()})}))}})}),define("tpl!ltiTestReview/review/plugins/navigation/next-prev/tpl/buttons",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+="\n    <button data-control=\"",(helper=helpers.control)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.control,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" class=\"small btn-info btn-group action",stack1=helpers.unless.call(depth0,depth0&&depth0.text,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),stack1=helpers.unless.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=" ",(helper=helpers.cls)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.cls,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" title=\"",(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" tabindex=\"0\">\n        ",stack1=helpers["if"].call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        ",stack1=helpers["if"].call(depth0,depth0&&depth0.text,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </button>\n",buffer}function program2(){return" no-label"}function program4(){return" no-icon"}function program6(depth0,data){var stack1,helper,buffer="";return buffer+="\n            <span class=\"icon icon-",(helper=helpers.icon)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.icon,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\"></span>\n        ",buffer}function program8(depth0,data){var stack1,helper,buffer="";return buffer+="\n            <span class=\"label\">",(helper=helpers.text)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.text,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n        ",buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",escapeExpression=this.escapeExpression,self=this;return buffer+="<div class=\"next-prev\">\n",stack1=helpers.each.call(depth0,depth0&&depth0.buttons,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</div>",buffer})}),define("css!ltiTestReview/review/plugins/navigation/next-prev/css/buttons",[],function(){}),define("ltiTestReview/review/plugins/navigation/next-prev/buttons",["lodash","i18n","ui/component","tpl!ltiTestReview/review/plugins/navigation/next-prev/tpl/buttons","css!ltiTestReview/review/plugins/navigation/next-prev/css/buttons"],function(_,__,componentFactory,buttonsTpl){'use strict';var defaults={buttons:[{title:__("Go to the next item"),cls:"right",icon:"right",text:__("Next"),control:"next"},{title:__("Go to the previous item"),icon:"left",control:"prev"}]};return function(container,config){var disabledButtons=new Map,enableElement=function($el){return $el.prop("disabled",!1)},disableElement=function($el){return $el.prop("disabled",!0)},component=componentFactory({disableButton:function disableButton(btn){return disabledButtons.set(btn,btn),this.is("rendered")&&!this.is("disabled")&&disableElement(this.getElement().find("[data-control=\"".concat(btn,"\"]"))),this.trigger("disable-button",btn),this},enableButton:function enableButton(btn){return disabledButtons.delete(btn),this.is("rendered")&&!this.is("disabled")&&enableElement(this.getElement().find("[data-control=\"".concat(btn,"\"]"))),this.trigger("enable-button",btn),this},toggleButton:function toggleButton(btn){var state=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return null===state&&(state=disabledButtons.has(btn)),state?this.enableButton(btn):this.disableButton(btn),this}},defaults).setTemplate(buttonsTpl).on("init",function(){var _this7=this;_.defer(function(){return _this7.render(container)})}).on("render",function(){var _this8=this;this.getElement().on("click",".action",function(e){var control=e.currentTarget.dataset.control;!control||_this8.is("disabled")||disabledButtons.has(control)||(e.currentTarget.classList.add("active"),_this8.trigger("click",control))}),this.setState("ready",!0).trigger("ready")}).on("disable",function(){this.is("rendered")&&disableElement(this.getElement().find("[data-control]"))}).on("enable",function(){this.is("rendered")&&this.getElement().find("[data-control]").each(function(index,el){var control=el.dataset.control;disabledButtons.has(control)||(el.disabled=!1),el.classList.contains("active")&&(!disabledButtons.has(control)&&el.focus(),el.classList.remove("active"))})}).on("destroy",function(){disabledButtons.clear()});return _.defer(function(){return component.init(config)}),component}}),define("ltiTestReview/review/plugins/navigation/next-prev/plugin",["lodash","util/shortcut","util/namespace","core/promiseTimeout","taoTests/runner/plugin","taoQtiTest/runner/helpers/map","ltiTestReview/review/plugins/navigation/next-prev/buttons"],function(_,shortcut,namespaceHelper,promiseTimeout,pluginFactory,mapHelper,buttonsFactory){'use strict';return pluginFactory({name:"next-prev",init:function init(){var _this9=this,testRunner=this.getTestRunner(),testConfig=testRunner.getConfig(),pluginShortcuts=(testConfig.shortcuts||{})[this.getName()]||{};testConfig.allowShortcuts&&Object.keys(pluginShortcuts).forEach(function(key){shortcut.add(namespaceHelper.namespaceAll(pluginShortcuts[key],_this9.getName(),!0),function(){return testRunner.trigger("nav-".concat(key),!0)},{avoidInput:!0,prevent:!0})}),this.disable(),testRunner.on("enablenav",function(){return _this9.enable()}).on("disablenav",function(){return _this9.disable()}).on("hidenav",function(){return _this9.hide()}).on("shownav",function(){return _this9.show()}).on("destroy",function(){return shortcut.remove(".".concat(_this9.getName()))})},render:function render(){var _this10=this;return promiseTimeout(new Promise(function(resolve){var testRunner=_this10.getTestRunner(),buttons=buttonsFactory(_this10.getAreaBroker().getNavigationArea()),canDoNext=function(){var last=_.findLast(mapHelper.getJumps(testRunner.getTestMap()),function(jump){return jump&&jump.identifier}),context=testRunner.getTestContext();return last&&context.itemPosition<last.position},canDoPrevious=function(){var first=_.find(mapHelper.getJumps(testRunner.getTestMap()),function(jump){return jump&&jump.identifier}),context=testRunner.getTestContext();return first&&context.itemPosition>first.position};buttons.on("click",function(btn){return testRunner.trigger("nav-".concat(btn))}).on("ready",function(){!1===_this10.getState("enabled")&&buttons.disable(),resolve()}),testRunner.on("loaditem testmapchange",function toggle(){buttons.toggleButton("prev",canDoPrevious()),buttons.toggleButton("next",canDoNext())}).on("nav-next",function doNext(){!1!==_this10.getState("enabled")&&canDoNext()&&(testRunner.trigger("disablenav"),testRunner.next())}).on("nav-prev",function doPrevious(){!1!==_this10.getState("enabled")&&canDoPrevious()&&(testRunner.trigger("disablenav"),testRunner.previous())}).on("plugin-show.".concat(_this10.getName()),function(){return buttons.show()}).on("plugin-hide.".concat(_this10.getName()),function(){return buttons.hide()}).on("plugin-enable.".concat(_this10.getName()),function(){return buttons.enable()}).on("plugin-disable.".concat(_this10.getName()),function(){return buttons.disable()}).on("plugin-destroy.".concat(_this10.getName()),function(){return buttons.destroy()})}))}})}),define("ltiTestReview/review/plugins/navigation/review-panel/panel-data",["lodash"],function(_){'use strict';var compareByPosition=function(a,b){return a.position-b.position},getItemType=function(item,withScore){return item.informational?"info":withScore&&item.maxScore?item.score===item.maxScore?"correct":"incorrect":item.skipped?"skipped":"default"},extractData=function(entry,withScore){var _ref2=entry||{},id=_ref2.id,label=_ref2.label,position=_ref2.position,informational=_ref2.informational,skipped=_ref2.skipped,score=_ref2.score,maxScore=_ref2.maxScore,data={id:id,label:label,position:position,withScore:withScore};return withScore&&Object.assign(data,{score:score,maxScore:maxScore}),"undefined"!=typeof informational&&(data.informational=informational),"undefined"!=typeof skipped&&(data.skipped=skipped),data};return{getReviewPanelMap:function getReviewPanelMap(testMap){var withScore=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],parts=testMap.parts,score=testMap.score,maxScore=testMap.maxScore,items=new Map,panelMap={parts:_.map(parts,function(part){return Object.assign(extractData(part,withScore),{sections:_.map(part.sections,function(section){return Object.assign(extractData(section,withScore),{items:_.map(section.items,function(item){var reviewItem=extractData(item,withScore);return reviewItem.type=getItemType(item,withScore),items.set(item.id,reviewItem),reviewItem}).sort(compareByPosition)})}).sort(compareByPosition)})}).sort(compareByPosition),withScore:withScore,items:items};return withScore&&Object.assign(panelMap,{score:score,maxScore:maxScore}),panelMap}}}),define("tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/panel",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+="\n    <header class=\"review-panel-header\">\n    ",stack1=helpers["with"].call(depth0,depth0&&depth0.header,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </header>\n",buffer}function program2(depth0,data){var stack1,helper,buffer="";return buffer+="\n        <span class=\"review-panel-label\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n        <span class=\"review-panel-score\">",(helper=helpers.score)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.score,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n    ",buffer}function program4(depth0,data){var stack1,buffer="";return buffer+="\n    <ul class=\"review-panel-filters plain\">\n    ",stack1=helpers.each.call(depth0,depth0&&depth0.filters,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </ul>\n",buffer}function program5(depth0,data){var stack1,helper,buffer="";return buffer+="\n        <li class=\"review-panel-filter navigable\" data-control=\"",(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n            <span class=\"review-panel-label\" title=\"",(helper=helpers.title)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.title,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n        </li>\n    ",buffer}function program7(depth0,data){var stack1,buffer="";return buffer+="\n    <footer class=\"review-panel-footer\">\n    ",stack1=helpers["with"].call(depth0,depth0&&depth0.footer,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </footer>\n",buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",escapeExpression=this.escapeExpression,self=this;return buffer+="<div class=\"review-panel\">\n",stack1=helpers["if"].call(depth0,depth0&&depth0.header,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n",stack1=helpers["if"].call(depth0,depth0&&depth0.filters,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    <nav class=\"review-panel-content\"></nav>\n",stack1=helpers["if"].call(depth0,depth0&&depth0.footer,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</div>",buffer})}),define("tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/list",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return buffer+="\n<ul class=\"review-panel-list plain\">\n    ",stack1=helpers.each.call(depth0,depth0&&depth0.parts,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n</ul>\n",buffer}function program2(depth0,data){var stack1,helper,buffer="";return buffer+="\n    <li class=\"review-panel-part collapsible",stack1=helpers["if"].call(depth0,depth0&&depth0.active,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),stack1=helpers["if"].call(depth0,depth0&&depth0.expanded,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\" data-control=\"",(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n        <span class=\"review-panel-label navigable\" title=\"",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"<span class=\"collapsible-arrow\"></span></span>\n        <ul class=\"review-panel-block plain\">\n        ",stack1=helpers.each.call(depth0,depth0&&depth0.sections,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n        </ul>\n    </li>\n    ",buffer}function program3(){return" active"}function program5(){return" expanded"}function program7(depth0,data){var stack1,helper,buffer="";return buffer+="\n            <li class=\"review-panel-section collapsible",stack1=helpers["if"].call(depth0,depth0&&depth0.active,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),stack1=helpers["if"].call(depth0,depth0&&depth0.expanded,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\" data-control=\"",(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n                <span class=\"review-panel-label navigable\" title=\"",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"<span class=\"collapsible-arrow\"></span></span>\n                <ul class=\"review-panel-block plain\">\n                ",stack1=helpers.each.call(depth0,depth0&&depth0.items,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n                </ul>\n            </li>\n            ",buffer}function program8(depth0,data){var stack1,helper,buffer="";return buffer+="\n                    <li class=\"review-panel-item navigable",stack1=helpers["if"].call(depth0,depth0&&depth0.active,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),stack1=helpers["if"].call(depth0,depth0&&depth0.type,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\" data-control=\"",(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" data-position=\"",(helper=helpers.position)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.position,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\" title=\"",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"\">\n                        <span class=\"review-panel-label\">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span>\n                    ",stack1=helpers["if"].call(depth0,depth0&&depth0.withScore,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n                    </li>\n                ",buffer}function program9(depth0,data){var stack1,helper,buffer="";return buffer+=" item-",(helper=helpers.type)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.type,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1),buffer}function program11(depth0,data){var stack1,buffer="";return buffer+="\n                        <span class=\"review-panel-score\">",stack1=helpers["if"].call(depth0,depth0&&depth0.informational,{hash:{},inverse:self.program(14,program14,data),fn:self.program(12,program12,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="</span>\n                    ",buffer}function program12(){return"-"}function program14(depth0,data){var stack1;return stack1=helpers["if"].call(depth0,depth0&&depth0.maxScore,{hash:{},inverse:self.program(17,program17,data),fn:self.program(15,program15,data),data:data}),stack1||0===stack1?stack1:""}function program15(depth0,data){var stack1,helper,buffer="";return(helper=helpers.score)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.score,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"/",(helper=helpers.maxScore)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.maxScore,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1),buffer}function program17(depth0,data){var stack1,helper;return(helper=helpers.score)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.score,stack1="function"===_typeof(helper)?helper.call(depth0,{hash:{},data:data}):helper),escapeExpression(stack1)}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,escapeExpression=this.escapeExpression,self=this;return stack1=helpers["if"].call(depth0,depth0&&depth0.parts,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),stack1||0===stack1?stack1:""})}),define("css!ltiTestReview/review/plugins/navigation/review-panel/css/panel",[],function(){}),define("ltiTestReview/review/plugins/navigation/review-panel/panel",["jquery","lodash","i18n","ui/hider","ui/autoscroll","ui/component","ltiTestReview/review/plugins/navigation/review-panel/panel-data","tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/panel","tpl!ltiTestReview/review/plugins/navigation/review-panel/tpl/list","css!ltiTestReview/review/plugins/navigation/review-panel/css/panel.css"],function($,_,__,hider,autoscroll,componentFactory,reviewDataHelper,panelTpl,listTpl){'use strict';var defaults={headerLabel:__("TEST SCORE:"),footerLabel:__("TOTAL"),showScore:!0,filters:[{id:"all",label:__("All"),title:__("Show all items")},{id:"incorrect",label:__("Incorrect"),title:__("Show incorrect items only")}]},cssClasses={collapsible:"collapsible",expanded:"expanded",active:"active"},cssSelectors={collapsible:".".concat(cssClasses.collapsible),collapsibleLabel:".".concat(cssClasses.collapsible," > .review-panel-label"),expanded:".".concat(cssClasses.expanded),active:".".concat(cssClasses.active),navigable:".navigable",control:"[data-control]",content:".review-panel-content",filtersContainer:".review-panel-filters",filter:".review-panel-filter",item:".review-panel-item",header:".review-panel-header",footer:".review-panel-footer",score:".review-panel-score"},findControl=function($container,id){return $container.find("[data-control=\"".concat(id,"\"]"))},findExpanded=function($target){return $target.find(cssSelectors.collapsible+cssSelectors.expanded)};return function(container){var component,config=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},map=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,controls=null,activeFilter=null,activeItem=null,data=null,selectFilter=function(filterId){controls.$filters.removeClass(cssClasses.active).filter("[data-control=\"".concat(filterId,"\"]")).addClass(cssClasses.active)},selectItem=function(itemId){controls.$content.find(cssSelectors.active).removeClass(cssClasses.active);var $target=findControl(controls.$content,itemId);if($target.length){var $parents=$target.parentsUntil(controls.$content,cssSelectors.control);$target.add($parents).addClass(cssClasses.active),autoscroll($target,controls.$content)}},eachNavigable=function(callback){component.getElement().find(cssSelectors.navigable).each(callback)},enableKeyboard=function(){return eachNavigable(function(index,el){return el.setAttribute("tabindex",0)})},disableKeyboard=function(){return eachNavigable(function(index,el){return el.setAttribute("tabindex",-1)})},itemChange=function(){component.trigger("itemchange",activeItem.id,activeItem.position)};return component=componentFactory({getData:function getData(){return data},setData:function setData(newMap){return data=reviewDataHelper.getReviewPanelMap(newMap,this.getConfig().showScore),this.trigger("datachange",data),this},getActiveFilter:function getActiveFilter(){return activeFilter&&activeFilter.id},setActiveFilter:function setActiveFilter(filterId){var _this$getConfig=this.getConfig(),filters=_this$getConfig.filters;if(Array.isArray(filters)){var foundFilter=filters.find(function(filter){return filter.id===filterId});foundFilter&&(!activeFilter||activeFilter.id!==filterId)&&(activeFilter=foundFilter,this.is("rendered")&&selectFilter(filterId),this.trigger("filterchange",filterId))}return this},getActiveItem:function getActiveItem(){return activeItem&&activeItem.id},getActiveItemPosition:function getActiveItemPosition(){return activeItem&&activeItem.position},setActiveItem:function setActiveItem(itemId){return data&&data.items.has(itemId)&&(!activeItem||activeItem.id!==itemId)&&(activeItem=data.items.get(itemId),this.is("rendered")&&selectItem(itemId),this.trigger("active",itemId)),this},expand:function expand(id){var _this11=this;if(this.is("rendered")){var $target=findControl(controls.$content,id);if($target.length){var $collapsed=$target.parentsUntil(controls.$content,cssSelectors.collapsible).add($target.find(cssSelectors.collapsible).filter(":first-child"));$target.is(cssSelectors.collapsible)&&($collapsed=$collapsed.add($target)),$collapsed.filter(cssSelectors.expanded).length!==$collapsed.length&&(this.collapse(),$collapsed.each(function(index,el){el.classList.add(cssClasses.expanded),_this11.trigger("expand",el.dataset.control)}))}}return this},collapse:function collapse(){var _this12=this,id=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.is("rendered")){var $expanded=null;if(id){var $target=findControl(controls.$content,id);$expanded=findExpanded($target),$target.is(cssSelectors.expanded)&&($expanded=$expanded.add($target))}else $expanded=findExpanded(controls.$content);$expanded.each(function(index,el){el.classList.remove(cssClasses.expanded),_this12.trigger("collapse",el.dataset.control)})}return this},toggle:function toggle(id){if(this.is("rendered")){var $target=findControl(controls.$content,id);$target.length&&($target.is(cssSelectors.expanded)?this.collapse(id):this.expand(id))}return this},update:function update(){var _Mathfloor=Math.floor;if(data&&this.is("rendered")){var scorePercent,scoreText;data.maxScore?(scoreText="".concat(data.score,"/").concat(data.maxScore),scorePercent="".concat(_Mathfloor(100*data.score/data.maxScore)||0,"%")):(scoreText="".concat(data.score),scorePercent="0%"),controls.$content.html(listTpl(data)),controls.$headerScore.text(scorePercent),controls.$footerScore.text(scoreText),hider.toggle(controls.$filters,data.score!==data.maxScore),this.is("disabled")||enableKeyboard(),this.trigger("update",data)}return this}},defaults).setTemplate(panelTpl).on("init",function(){var _this13=this,initConfig=this.getConfig();initConfig.showScore||(initConfig.headerLabel=!1,initConfig.footerLabel=!1,initConfig.filters=!1);var headerLabel=initConfig.headerLabel,footerLabel=initConfig.footerLabel,filters=initConfig.filters;headerLabel&&(initConfig.header={label:headerLabel,score:"0%"}),footerLabel&&(initConfig.footer={label:footerLabel,score:"0"}),!activeFilter&&Array.isArray(filters)&&(activeFilter=filters.find(function(filter){return filter.label})),map&&component.setData(map),_.defer(function(){return _this13.render(container)})}).on("render",function(){var _this14=this;controls={$headerScore:this.getElement().find("".concat(cssSelectors.header," ").concat(cssSelectors.score)),$footerScore:this.getElement().find("".concat(cssSelectors.footer," ").concat(cssSelectors.score)),$filtersContainer:this.getElement().find(cssSelectors.filtersContainer),$filters:this.getElement().find(cssSelectors.filter),$content:this.getElement().find(cssSelectors.content)},this.getElement().on("keydown",cssSelectors.navigable,function(e){(" "===e.key||"Enter"===e.key)&&(e.preventDefault(),e.currentTarget.click())}),controls.$filtersContainer.on("click",cssSelectors.filter,function(e){_this14.is("disabled")||_this14.setActiveFilter(e.currentTarget.dataset.control)}),controls.$content.on("click",cssSelectors.collapsibleLabel,function(e){_this14.is("disabled")||_this14.toggle(e.currentTarget.parentElement.dataset.control)}),controls.$content.on("click",cssSelectors.item,function(e){if(!_this14.is("disabled")){var currentId=activeItem&&activeItem.id;_this14.setActiveItem(e.currentTarget.dataset.control),activeItem&&activeItem.id!==currentId&&itemChange()}}),this.update(),activeFilter&&selectFilter(activeFilter.id),activeItem&&(selectItem(activeItem.id),this.expand(activeItem.id)),this.setState("show-score",this.getConfig().showScore).setState("ready",!0).trigger("ready")}).on("enable",function(){return enableKeyboard}).on("disable",function(){return disableKeyboard}).on("active",function(itemId){this.expand(itemId)}).on("update",function(){activeItem&&(data.items.has(activeItem.id)?(selectItem(activeItem.id),this.expand(activeItem.id)):controls.$content.find("".concat(cssSelectors.item,":nth(0)")).click())}).on("datachange",function(){this.update()}).on("destroy",function(){controls=null}),_.defer(function(){return component.init(config)}),component}}),define("ltiTestReview/review/services/navigation-data",["lodash","core/eventifier","taoQtiTest/runner/helpers/map"],function(_,eventifier,mapHelper){'use strict';var computeScore=function(collection,property){var _ref3,score=0,maxScore=0;return _ref3={},_defineProperty(_ref3,property,_.mapValues(collection,function(item){return item.score=item.score||0,item.maxScore=item.maxScore||0,score+=item.score,maxScore+=item.maxScore,item})),_defineProperty(_ref3,"score",score),_defineProperty(_ref3,"maxScore",maxScore),_ref3};return function(){var filteredTestMap,testMap=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},navigationDataService={getMap:function getMap(){return testMap},getFilteredMap:function getFilteredMap(){return filteredTestMap},setMap:function setMap(map){return testMap=this.computeMap(map),this.trigger("mapchange",testMap),this.filterMap(),this},filterMap:function filterMap(){var filter=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return!0};if(!_.isFunction(filter))throw new TypeError("A filter must be a function!");filteredTestMap=Object.assign({},testMap,{parts:_.reduce(testMap.parts,function(parts,part,partId){return part=Object.assign({},part,{sections:_.reduce(part.sections,function(sections,section,sectionId){return section=Object.assign({},section,{items:_.pick(section.items,filter)}),_.size(section.items)&&(sections[sectionId]=section),sections},{})}),_.size(part.sections)&&(parts[partId]=part),parts},{})}),mapHelper.createJumpTable(filteredTestMap);var jumps=mapHelper.getJumps(filteredTestMap);return _.times(jumps.length,function(index){return jumps[index]=jumps[index]||{}}),this.trigger("mapfilter",filteredTestMap),this},computeMap:function computeMap(){var map=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},map,computeScore(_.mapValues(map.parts||{},function(part){return Object.assign({},part,computeScore(_.mapValues(part.sections||{},function(section){return Object.assign({},section,computeScore(section.items||{},"items"))}),"sections"))}),"parts"))}};return eventifier(navigationDataService),testMap&&navigationDataService.setMap(testMap),navigationDataService}}),define("ltiTestReview/review/plugins/navigation/review-panel/plugin",["core/promiseTimeout","taoTests/runner/plugin","ltiTestReview/review/services/navigation-data","ltiTestReview/review/plugins/navigation/review-panel/panel"],function(promiseTimeout,pluginFactory,navigationDataServiceFactory,reviewPanelFactory){'use strict';var filters={all:function all(){return!0},incorrect:function incorrect(item){return!item.informational&&(!item.maxScore||item.score!==item.maxScore)}};return pluginFactory({name:"review-panel",init:function init(){var _this15=this;this.getTestRunner().on("enablenav",function(){return _this15.enable()}).on("disablenav",function(){return _this15.disable()})},render:function render(){var _this16=this;return promiseTimeout(new Promise(function(resolve){var testRunner=_this16.getTestRunner(),navigationDataService=navigationDataServiceFactory(testRunner.getTestMap()),_testRunner$getOption3=testRunner.getOptions(),showScore=_testRunner$getOption3.showScore,reviewPanel=reviewPanelFactory(_this16.getAreaBroker().getPanelArea(),Object.assign({showScore:showScore},_this16.getConfig()),navigationDataService.getMap());reviewPanel.on("filterchange",function(filterId){return navigationDataService.filterMap(filters[filterId])}).on("itemchange",function(itemRef,position){return testRunner.jump(position,"item")}).on("ready",resolve),navigationDataService.on("mapfilter",function(filteredMap){return testRunner.setTestMap(filteredMap)}),testRunner.on("testmapchange",function(testMap){return reviewPanel.setData(testMap)}).on("loaditem",function(itemRef){return reviewPanel.setActiveItem(itemRef)}).on("plugin-show.".concat(_this16.getName()),function(){return reviewPanel.show()}).on("plugin-hide.".concat(_this16.getName()),function(){return reviewPanel.hide()}).on("plugin-enable.".concat(_this16.getName()),function(){return reviewPanel.enable()}).on("plugin-disable.".concat(_this16.getName()),function(){return reviewPanel.disable()}).on("destroy",function(){return reviewPanel.destroy()})}))}})}),define("ltiTestReview/review/services/navigator",["lodash","taoQtiTest/runner/helpers/map","taoQtiTest/runner/helpers/testContextBuilder","taoQtiTest/runner/navigator/navigator"],function(_,mapHelper,testContextBuilder,runnerNavigatorFactory){return function(testContext,testMap){var navigator=runnerNavigatorFactory(testContext,testMap);return Object.assign({},navigator,{nextItem:function nextItem(){var next=_.find(mapHelper.getJumps(testMap),function(jump){return jump&&jump.position>testContext.itemPosition});return!!next&&testContextBuilder.buildTestContextFromPosition(testContext,testMap,next.position)},previousItem:function previousItem(){var prev=_.findLast(mapHelper.getJumps(testMap),function(jump){return jump&&jump.position<testContext.itemPosition});return!!prev&&testContextBuilder.buildTestContextFromPosition(testContext,testMap,prev.position)},nextSection:function nextSection(){var sectionStats=mapHelper.getSectionStats(testMap,testContext.sectionId),section=mapHelper.getSection(testMap,testContext.sectionId),itemPosition=section.position+sectionStats.total,next=_.find(mapHelper.getJumps(testMap),function(jump){return jump&&jump.position>=itemPosition});return!!next&&testContextBuilder.buildTestContextFromPosition(testContext,testMap,next.position)}})}}),define("tpl!ltiTestReview/review/provider/tpl/qtiTestReviewProvider",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var helper,options,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;return buffer+="<main class=\"test-review-scope\">\n    <div class=\"jumplinks\">\n        <a class=\"jumplink navigationlink\" href=\"#\" data-area=\"sidebar\" tabindex=\"1\">"+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Jump to:",options):helperMissing.call(depth0,"__","Jump to:",options)))+" <b>"+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Navigation",options):helperMissing.call(depth0,"__","Navigation",options)))+"</b></a>\n        <a class=\"jumplink answerlink\" href=\"#\" data-area=\"contentWrapper\" tabindex=\"1\">"+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Jump to:",options):helperMissing.call(depth0,"__","Jump to:",options)))+" <b>"+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Question",options):helperMissing.call(depth0,"__","Question",options)))+"</b></a>\n    </div>\n    <div class=\"action-bar content-action-bar horizontal-action-bar top-action-bar\">\n        <div class=\"control-box size-wrapper\">\n            <div class=\"lft tools-box\"></div>\n            <div class=\"rgt navi-box\">\n                <ul class=\"plain navi-box-list\"></ul>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"test-runner-sections\">\n\n        <aside class=\"test-sidebar test-sidebar-left\">\n            <div class=\"panel-box\"></div>\n            <div class=\"navi-box\"></div>\n        </aside>\n\n        <section class=\"content-wrapper\">\n            <div class=\"item-tool\"></div>\n            <div class=\"item-content\">\n                <div id=\"qti-content\"></div>\n            </div>\n        </section>\n    </div>\n\n    <nav class=\"action-bar content-action-bar horizontal-action-bar bottom-action-bar\">\n        <div class=\"control-box size-wrapper\">\n            <div class=\"lft tools-box\"></div>\n            <div class=\"rgt navi-box\">\n                <ul class=\"plain navi-box-list\"></ul>\n            </div>\n        </div>\n    </nav>\n</main>",buffer})}),define("ltiTestReview/review/provider/qtiTestReviewProvider",["jquery","lodash","taoTests/runner/areaBroker","taoTests/runner/proxy","taoTests/runner/testStore","taoQtiTest/runner/helpers/map","taoQtiTest/runner/ui/toolbox/toolbox","taoQtiItem/runner/qtiItemRunner","taoQtiTest/runner/config/assetManager","ltiTestReview/review/services/navigator","tpl!ltiTestReview/review/provider/tpl/qtiTestReviewProvider"],function($,_,areaBrokerFactory,proxyFactory,testStoreFactory,mapHelper,toolboxFactory,qtiItemRunner,assetManagerFactory,testNavigatorFactory,layoutTpl){'use strict';return{name:"qtiTestReviewProvider",loadTestStore:function loadTestStore(){var config=this.getConfig(),identifier=config.serviceCallId||"test-".concat(Date.now());return testStoreFactory(identifier)},install:function install(){var _this17=this,defaultSetTestMap=this.setTestMap;this.setTestMap=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var result=defaultSetTestMap.apply(_this17,args);return _this17.trigger("testmapchange",_this17.getTestMap()),result};var _ref4=this.getConfig().options||{},plugins=_ref4.plugins;plugins&&_.forEach(this.getPlugins(),function(plugin){if(_.isPlainObject(plugin)&&_.isFunction(plugin.setConfig)){var config=plugins[plugin.getName()];_.isPlainObject(config)&&plugin.setConfig(config)}})},loadAreaBroker:function loadAreaBroker(){var $layout=$(layoutTpl());return areaBrokerFactory($layout,{contentWrapper:$(".content-wrapper",$layout),itemTool:$(".item-tool",$layout),content:$("#qti-content",$layout),toolbox:$(".bottom-action-bar .tools-box",$layout),navigation:$(".test-sidebar-left .navi-box",$layout),control:$(".top-action-bar .control-box",$layout),actionsBar:$(".bottom-action-bar .control-box",$layout),panel:$(".test-sidebar-left .panel-box",$layout),header:$(".top-action-bar .tools-box",$layout),context:$(".top-action-bar .navi-box-list",$layout),sidebar:$(".test-sidebar-left",$layout)})},loadProxy:function loadProxy(){var _this$getConfig2=this.getConfig(),proxyProvider=_this$getConfig2.proxyProvider,serviceCallId=_this$getConfig2.serviceCallId,bootstrap=_this$getConfig2.bootstrap,timeout=_this$getConfig2.timeout;return proxyFactory(proxyProvider||"qtiTestReviewProxy",{serviceCallId:serviceCallId,bootstrap:bootstrap,timeout:timeout})},init:function init(){var _this18=this,dataHolder=this.getDataHolder(),areaBroker=this.getAreaBroker(),load=function(){var testContext=_this18.getTestContext();testContext&&testContext.itemIdentifier&&_this18.loadItem(testContext.itemIdentifier)};areaBroker.setComponent("toolbox",toolboxFactory()),areaBroker.getToolbox().init(),this.assetManager=assetManagerFactory();return function createJumplinks(container){container.on("click",function(e){if(e.target.classList.contains("jumplink")){e.preventDefault(),e.target.blur();var where=e.target.dataset.area;areaBroker.getArea(where).find(":not(.hidden)[tabindex]").first().focus()}}),container.on("focusin",function(e){if(e.target.classList.contains("jumplink")){var where=e.target.dataset.area;areaBroker.getArea(where).addClass("focused")}}),container.on("focusout",function(e){if(e.target.classList.contains("jumplink")){var where=e.target.dataset.area;areaBroker.getArea(where).removeClass("focused")}})}(areaBroker.getContainer().find(".jumplinks")),this.on("ready",function(){load()}).on("loaditem",function(itemRef,itemData){dataHolder.set("itemIdentifier",itemRef),dataHolder.set("itemData",itemData)}).on("renderitem",function(){_this18.trigger("enabletools enablenav")}).on("move",function(direction,scope,ref){var testContext=this.getTestContext(),testMap=this.getTestMap(),testNavigator=testNavigatorFactory(testContext,testMap),newTestContext=testNavigator.navigate(direction,scope||"item",ref);this.unloadItem(testContext.itemIdentifier),this.setTestContext(newTestContext)}).on("unloaditem",function(){load()}).on("resumeitem",function(){_this18.trigger("enableitem enablenav")}).on("disableitem",function(){_this18.trigger("disabletools")}).on("enableitem",function(){_this18.trigger("enabletools")}).on("error",function(){_this18.trigger("disabletools enablenav")}).on("finish leave",function(){_this18.trigger("disablenav disabletools"),_this18.flush()}).on("flush",function(){_this18.destroy()}),this.getProxy().init().then(function(data){return data.testMap&&_.isEmpty(mapHelper.getJumps(data.testMap))&&mapHelper.createJumpTable(data.testMap),dataHolder.set("testMap",data.testMap),dataHolder.set("testContext",data.testContext),dataHolder.set("testData",data.testData),dataHolder.set("testResponses",data.testResponses),data})},render:function render(){var config=this.getConfig(),areaBroker=this.getAreaBroker();config.renderTo.append(areaBroker.getContainer()),areaBroker.getToolbox().render(areaBroker.getToolboxArea())},loadItem:function loadItem(itemIdentifier){return this.getProxy().getItem(itemIdentifier)},renderItem:function renderItem(itemIdentifier,itemData){var _this19=this,areaBroker=this.getAreaBroker(),changeState=function(){_this19.setItemState(itemIdentifier,"changed",!0)};return new Promise(function(resolve,reject){itemData.content=itemData.content||{};var assetManager=_this19.assetManager;assetManager.setData("baseUrl",itemData.baseUrl),assetManager.setData("itemIdentifier",itemIdentifier),assetManager.setData("assets",itemData.content.assets),_this19.itemRunner=qtiItemRunner(itemData.content.type,itemData.content.data,{assetManager:assetManager}).on("warning",function(err){return _this19.trigger("warning",err)}).on("error",function(err){_this19.trigger("enablenav"),reject(err)}).on("init",function(){var state=itemData.state,portableElements=itemData.portableElements;this.render(areaBroker.getContentArea(),{state:state,portableElements:portableElements})}).on("render",function(){this.on("responsechange",changeState),this.on("statechange",changeState),resolve()}).init()})},unloadItem:function unloadItem(){var _this20=this;return this.trigger("beforeunloaditem disablenav disabletools"),this.itemRunner?new Promise(function(resolve){_this20.itemRunner.on("clear",resolve).clear()}):Promise.resolve()},destroy:function destroy(){var areaBroker=this.getAreaBroker();if(this.itemRunner&&this.itemRunner.clear(),this.itemRunner=null,areaBroker&&areaBroker.getToolbox().destroy(),this.getState("finish"))return this.getTestStore().remove()}}}),define("ltiTestReview/review/proxy/qtiTestReviewProxy",["lodash","core/promiseQueue","core/request","core/communicator","ltiTestReview/review/config/qtiTestReviewConfig"],function(_,promiseQueue,coreRequest,communicatorFactory,configFactory){'use strict';return{name:"qtiTestReviewProxy",install:function install(){var _this21=this;this.queue=promiseQueue(),this.request=function(url,reqParams,contentType,noToken){return coreRequest({url:url,data:reqParams,method:reqParams?"POST":"GET",contentType:contentType,noToken:noToken,background:!1,sequential:!0,timeout:_this21.configStorage.getTimeout()}).then(function(response){return _this21.setOnline(),response&&response.success?Promise.resolve(response):Promise.reject(response)}).catch(function(error){return error.data&&_this21.isConnectivityError(error.data)&&_this21.setOffline("request"),Promise.reject(error)})}},init:function init(config,params){return this.configStorage=configFactory(config||{}),this.request(this.configStorage.getTestActionUrl("init"),params,void 0,!0)},destroy:function destroy(){return this.configStorage=null,this.queue=null,Promise.resolve()},callTestAction:function callTestAction(action,params){return this.request(this.configStorage.getTestActionUrl(action),params)},callItemAction:function callItemAction(itemIdentifier,action,params){return this.request(this.configStorage.getItemActionUrl(itemIdentifier,action),params)},getItem:function getItem(itemIdentifier,params){return this.request(this.configStorage.getItemActionUrl(itemIdentifier,"getItem"),params,void 0,!0)},loadCommunicator:function loadCommunicator(){var config=this.configStorage.getCommunicationConfig();return config.enabled&&communicatorFactory(config.type,config.params),null}}}),function(c){var d=document,s=d.createElement("style");s.type="text/css",d.getElementsByTagName("head")[0].appendChild(s),s.styleSheet?s.styleSheet.cssText=c:s.appendChild(d.createTextNode(c))}(".previewer-component{background:inherit}.previewer-component.fullpage{position:absolute;top:0;left:0;right:0;bottom:0;z-index:100000;background:#fff}.previewer-component.fullpage .test-review-scope{height:100vh}.previewer-component.readonly .qti-item::before{content:' ';position:absolute;top:0;left:0;right:0;bottom:0;z-index:100000}\n\n/*# sourceMappingURL=ltiTestReview/review/component/css/qtiTestReviewComponent.css.map */@-o-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@-moz-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@-webkit-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}.loading-bar{height:6px;position:absolute;width:100%;top:0px;display:none;z-index:10000;cursor:progress}.loading-bar.fixed{position:fixed;width:100%}.loading-bar.fixed:before{top:0 !important}.loading-bar.loading{display:block;overflow:hidden;top:58px}.loading-bar.loading:before{position:absolute;content:'';height:6px;width:20%;display:block;transform:translateZ(0);background:-webkit-linear-gradient(to right, rgba(0,0,0,0) 0%, #c35a13 20%, #c35a13 80%, rgba(0,0,0,0) 100%);background:-moz-linear-gradient(to right, rgba(0,0,0,0) 0%, #c35a13 20%, #c35a13 80%, rgba(0,0,0,0) 100%);background:-ms-linear-gradient(to right, rgba(0,0,0,0) 0%, #c35a13 20%, #c35a13 80%, rgba(0,0,0,0) 100%);background:-o-linear-gradient(to right, rgba(0,0,0,0) 0%, #c35a13 20%, #c35a13 80%, rgba(0,0,0,0) 100%);background:linear-gradient(to right, rgba(0,0,0,0) 0%, #c35a13 20%, #c35a13 80%, rgba(0,0,0,0) 100%);-webkit-animation:loadingbar 5s linear infinite;-moz-animation:loadingbar 5s linear infinite;-ms-animation:loadingbar 5s linear infinite;-o-animation:loadingbar 5s linear infinite;animation:loadingbar 5s linear infinite}.loading-bar.loading.loadingbar-covered{top:0px;overflow-y:visible}.loading-bar.loading.loadingbar-covered:before{top:86px}.no-version-warning .loading-bar.loadingbar-covered:before{top:58px}.action-bar{background:#266d9c;padding:3px;overflow:hidden;color:#e7eff4}.action-bar li{float:left}.action-bar li .li-inner{padding-bottom:1px;text-decoration:none !important;outline:0;display:inline-block;color:inherit}.action-bar li .li-inner:hover{color:white}.action-bar li span.glyph{text-shadow:0 0 0 transparent;color:inherit}.action-bar li input{width:100%;font-size:12px;font-size:1.2rem;padding:2px 4px}.action-bar li.active .li-inner{color:white}.action-bar.horizontal-action-bar{padding:5px;height:35px}.action-bar.horizontal-action-bar .search-area{margin:2px 0 0 0;border:none;float:right;display:inline-block;position:relative;padding:0 30px 0 0}.action-bar.horizontal-action-bar .search-area input{padding-right:34px;min-width:250px !important}.action-bar.horizontal-action-bar .search-area button{position:absolute;right:32px;top:-2px;cursor:default;opacity:.5;background:transparent;width:25px;height:25px}.action-bar.horizontal-action-bar .search-area button:before{color:#666}.action-bar.horizontal-action-bar .search-area .icon-help{position:absolute;right:5px;top:-1px;text-shadow:0px 0px transparent;color:white;cursor:pointer;display:block;width:24px;height:24px;line-height:24px;text-align:center}.action-bar.horizontal-action-bar li{margin:0 1px;border:1px transparent solid;text-align:center;float:left}.action-bar.horizontal-action-bar li .glyph{width:14px}.action-bar.horizontal-action-bar li .svg-glyph{height:14px;width:14px;margin-right:9px}.action-bar.horizontal-action-bar li.btn-info{overflow:hidden;background:transparent}.action-bar.horizontal-action-bar li.btn-info:hover,.action-bar.horizontal-action-bar li.btn-info.active{border-color:rgba(255,255,255,0.3);opacity:1}.action-bar.horizontal-action-bar li.disabled{background:none !important;text-shadow:inherit !important;opacity:0.45 !important;color:inherit !important}.action-bar.horizontal-action-bar li.disabled a{cursor:not-allowed !important}.action-bar.vertical-action-bar li{max-height:60px}.action-bar.vertical-action-bar li .li-inner{height:60px;display:block;overflow:hidden;text-overflow:ellipsis;text-align:center;font-size:12px;font-size:1.2rem;line-height:12px}.action-bar.vertical-action-bar li .glyph{display:block;margin:12px auto 3px;width:20px;height:20px}.action-bar.tree-action-bar{background:#f3f1ef;position:relative;left:-1px;padding:0;margin:0 2.8571428571% 8px 2.8571428571%;width:94.6428571429%;font-size:13px;font-size:1.3rem}.action-bar.tree-action-bar li{background:rgba(255,255,255,0.5);border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;line-height:1.3;padding:0;text-align:center;float:left;width:65px;height:65px;margin:0 1px 1px 0}.action-bar.tree-action-bar li .glyph,.action-bar.tree-action-bar li .svg-glyph{display:block;color:#0e5d91;margin:12px auto 1px !important}.action-bar.tree-action-bar li .svg-glyph{width:20px;height:20px}.action-bar.tree-action-bar li .glyph{font-size:17px !important;font-size:1.7rem !important}.action-bar.tree-action-bar li .li-inner{display:block;height:65px;padding:2px;font-size:11px;font-size:1.1rem;color:#222}.action-bar.tree-action-bar li:hover{background:#ddd;color:#666}.action-bar .tree-filters{width:160px;position:relative}.action-bar .tree-filters input{padding-right:24px}.action-bar .tree-filters span{position:absolute;right:3px;color:#555;width:22px;top:2px;line-height:20px;display:inline-block;text-align:center;text-shadow:0 0 0 transparent;border-left:1px solid #ddd;cursor:pointer}.action-bar .tree-filters span.icon-close{display:none}.action-bar .tree-filters span:hover{color:#0e5d91}@media (max-width: 1150px){.action-bar.horizontal-action-bar .search-area{float:none;position:absolute;right:0px}.action-bar.horizontal-action-bar .search-area input{padding-right:30px;min-width:auto !important;width:150px}.action-bar.horizontal-action-bar .search-area input:focus{width:220px}}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area{float:none;position:absolute;right:0px}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area input{padding-right:30px;min-width:auto !important;width:150px}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area input:focus{width:220px}.section-container{top:0 !important}.section-container .flex-container-full{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 100%;-webkit-flex:0 0 100%;flex:0 0 100%}.section-container .flex-container-half{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 50%;-webkit-flex:0 0 50%;flex:0 0 50%}.section-container .flex-container-third{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 33.3333333333%;-webkit-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%}.section-container .flex-container-quarter{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 25%;-webkit-flex:0 0 25%;flex:0 0 25%}.section-container .flex-container-remaining{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:1 1 480px;-webkit-flex:1 1 480px;flex:1 1 480px}.section-container .flex-container-main-form{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 500px;-webkit-flex:0 0 500px;flex:0 0 500px;margin:0 20px 20px 0}.section-container .flex-container-navi{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 280px;-webkit-flex:0 0 280px;flex:0 0 280px}.section-container .section-header{border:none}.section-container .content-panel{width:100%;height:100%;margin:0;padding:0;border:none !important;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;-webkit-align-items:stretch;align-items:stretch}.section-container .tab-container{border:none;display:none;list-style-type:none;padding:0;margin:0}.section-container .tab-container li{float:left;position:relative;top:0;padding:0;margin:0 1px 0px 0;border-top:1px solid #f3f1ef !important;border-bottom:1px solid #f3f1ef !important;background:#f3f1ef !important}.section-container .tab-container li a{top:0 !important;margin-bottom:0 !important;padding:6px 16px;text-decoration:none;min-height:32px;color:#222;float:left}.section-container .tab-container li.active,.section-container .tab-container li:hover{border-bottom-color:#4a86ad !important;border-top-color:#6e9ebd !important;background:#266d9c !important}.section-container .tab-container li.active a,.section-container .tab-container li:hover a{background:transparent !important;border-color:transparent !important;color:#fff !important;text-shadow:1px 1px 0 rgba(0,0,0,0.2)}.section-container .tab-container li.disabled:hover{background:#f3f1ef !important}.section-container .tab-container li.disabled:hover a{cursor:not-allowed !important;color:#222 !important}.section-container .navi-container{display:none;background:#f3f1ef;-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 280px;-webkit-flex:0 0 280px;flex:0 0 280px;border-right:1px #ddd solid}.section-container .navi-container .block-title{font-size:14px;font-size:1.4rem;padding:2px 8px;margin:0}.section-container .navi-container .tree-action-bar-box{margin:10px 0;opacity:0}.section-container .navi-container .tree-action-bar-box.active{opacity:1;-webkit-opacity:0.25s ease-in-out;-moz-opacity:0.25s ease-in-out;opacity:0.25s ease-in-out}.section-container .content-container{border:none;-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;-ms-flex:1 1;-webkit-flex:1 1;flex:1 1}.section-container .content-block{padding:20px;overflow-y:auto;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;-webkit-align-items:stretch;align-items:stretch}.section-container .content-block>.grid-container{width:100%}.section-container .content-block .data-container-wrapper{padding:0px 20px 0 0}.section-container .content-block .data-container-wrapper:before,.section-container .content-block .data-container-wrapper:after{content:\" \";display:table}.section-container .content-block .data-container-wrapper:after{clear:both}.section-container .content-block .data-container-wrapper>section,.section-container .content-block .data-container-wrapper .data-container{width:260px;margin:0 20px 20px 0;float:left;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.section-container .content-block .data-container-wrapper>section.double,.section-container .content-block .data-container-wrapper .data-container.double{width:540px}.section-container .content-block .data-container-wrapper>section .emptyContentFooter,.section-container .content-block .data-container-wrapper .data-container .emptyContentFooter{display:none}.section-container .content-block .data-container-wrapper>section .tree,.section-container .content-block .data-container-wrapper .data-container .tree{border:none;max-width:none;max-height:none}.section-container .content-block .data-container-wrapper>section form,.section-container .content-block .data-container-wrapper .data-container form{background:none;border:none;margin:0;padding:0}.section-container .content-block .data-container-wrapper>section>header,.section-container .content-block .data-container-wrapper>section .ui-widget-header,.section-container .content-block .data-container-wrapper .data-container>header,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header{background:#f3f1ef;border-width:0px !important;border-bottom:1px #ddd solid !important}.section-container .content-block .data-container-wrapper>section>header h1,.section-container .content-block .data-container-wrapper>section>header h6,.section-container .content-block .data-container-wrapper>section .ui-widget-header h1,.section-container .content-block .data-container-wrapper>section .ui-widget-header h6,.section-container .content-block .data-container-wrapper .data-container>header h1,.section-container .content-block .data-container-wrapper .data-container>header h6,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header h1,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header h6{padding:4px;margin:0;font-size:14px;font-size:1.4rem}.section-container .content-block .data-container-wrapper>section>div,.section-container .content-block .data-container-wrapper>section .ui-widget-content,.section-container .content-block .data-container-wrapper>section .container-content,.section-container .content-block .data-container-wrapper .data-container>div,.section-container .content-block .data-container-wrapper .data-container .ui-widget-content,.section-container .content-block .data-container-wrapper .data-container .container-content{border-width:0px !important;overflow-y:auto;min-height:250px;padding:5px}.section-container .content-block .data-container-wrapper>section>div .icon-grip,.section-container .content-block .data-container-wrapper>section .ui-widget-content .icon-grip,.section-container .content-block .data-container-wrapper>section .container-content .icon-grip,.section-container .content-block .data-container-wrapper .data-container>div .icon-grip,.section-container .content-block .data-container-wrapper .data-container .ui-widget-content .icon-grip,.section-container .content-block .data-container-wrapper .data-container .container-content .icon-grip{cursor:move}.section-container .content-block .data-container-wrapper>section>footer,.section-container .content-block .data-container-wrapper .data-container>footer{min-height:33px}.section-container .content-block .data-container-wrapper>section>footer,.section-container .content-block .data-container-wrapper>section .data-container-footer,.section-container .content-block .data-container-wrapper .data-container>footer,.section-container .content-block .data-container-wrapper .data-container .data-container-footer{background:#f3f1ef;text-align:right !important;padding:4px;border-width:0px !important;border-top:1px #ddd solid !important}.section-container .content-block .data-container-wrapper>section>footer .square,.section-container .content-block .data-container-wrapper>section .data-container-footer .square,.section-container .content-block .data-container-wrapper .data-container>footer .square,.section-container .content-block .data-container-wrapper .data-container .data-container-footer .square{width:28px}.section-container .content-block .data-container-wrapper>section>footer .square span,.section-container .content-block .data-container-wrapper>section .data-container-footer .square span,.section-container .content-block .data-container-wrapper .data-container>footer .square span,.section-container .content-block .data-container-wrapper .data-container .data-container-footer .square span{padding:0;left:0}.section-container .content-block .data-container-wrapper>section ol,.section-container .content-block .data-container-wrapper .data-container ol{margin:0 0 0 15px;padding:10px}.section-container .content-block #form-container.ui-widget-content{border:none !important}.section-container .content-block form:not(.list-container){border:1px #ddd solid;background:#f3f1ef;padding:30px;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.section-container .content-block [class^=\"btn-\"],.section-container .content-block [class*=\" btn-\"]{margin:0 2px}.test-review-scope{position:relative;display:flex;flex-direction:column;height:calc(100vh - 99px)}.test-review-scope .test-runner-sections{flex:1 1 0;overflow:hidden;display:flex;flex-direction:row}.test-review-scope .test-sidebar{background:#f3f1ef;flex:0 1 auto;overflow-y:auto;display:flex;flex-direction:column;justify-content:flex-start;max-width:300px}.test-review-scope .test-sidebar>*{width:299px}@media only screen and (max-device-width: 800px){.test-review-scope .test-sidebar{max-width:200px}.test-review-scope .test-sidebar>*{width:199px}}@media only screen and (min-device-width: 800px) and (max-device-width: 1280px){.test-review-scope .test-sidebar{max-width:250px}.test-review-scope .test-sidebar>*{width:249px}}.test-review-scope .test-sidebar .panel-box{flex:0 1 auto;overflow:hidden}.test-review-scope .test-sidebar-left{border-right:1px #ddd solid}.test-review-scope .test-sidebar-right{border-left:1px #ddd solid}.test-review-scope .content-wrapper{position:relative;flex:1 1 0;display:flex;flex-direction:column;height:100%;padding:30px 0 0 30px}.test-review-scope .content-wrapper .item-tool{flex:0 0 auto}.test-review-scope .content-wrapper .item-content{flex:1 1 auto;overflow:auto;width:100%}.test-review-scope .content-wrapper .overlay{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;opacity:.9}.test-review-scope .content-wrapper .overlay-full{background-color:#fff;opacity:1}.test-review-scope #qti-content,.test-review-scope .item-tool{-webkit-overflow-scrolling:touch;margin:auto;max-width:1024px;width:100%}.test-review-scope #qti-item{width:100%;min-width:100%;height:auto;overflow:visible}.test-review-scope .qti-item{padding:0 0 30px 0}.test-review-scope .size-wrapper{margin:auto;max-width:1280px;width:100%}.test-review-scope #qti-rubrics{margin:auto;max-width:1024px;width:100%}.test-review-scope #qti-rubrics .qti-rubricBlock{margin:20px 0}.test-review-scope #qti-rubrics .hidden{display:none}.test-review-scope .jumplink{position:fixed;left:-9999px;background-color:#fff;color:#222;text-decoration:underline;outline:none;box-shadow:inset 0 0 0px 3px #0e5d91;height:calc(5px + 105px);width:340px;display:flex;justify-content:center;align-items:center}.test-review-scope .jumplink:focus{visibility:visible;top:0px;left:0px;z-index:1000;transition:color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out}.test-review-scope a[tabindex]:focus,.test-review-scope .focused{box-shadow:inset 0 0 0px 3px #0e5d91}.no-controls .test-review-scope{height:100vh}\n\n/*# sourceMappingURL=ltiTestReview/review/provider/css/qtiTestReviewProvider.css.map */.item-answer{position:relative;display:flex;flex-direction:column;background-color:#fff}.item-answer .item-answer-bar{position:relative;display:flex;flex-direction:row;align-content:stretch;align-items:flex-end;height:44px}.item-answer .item-answer-tabs{position:relative;flex:0 0 auto;height:100%}.item-answer .item-answer-tabs .answer-tabs{list-style:none;padding:0;margin:0;display:inline-flex;flex-direction:row;flex-wrap:nowrap;height:100%}.item-answer .item-answer-tabs .answer-tabs .tab{border-top:2px solid #fff;border-bottom:2px solid #0e5d91;padding:0;margin:0;height:100%}.item-answer .item-answer-tabs .answer-tabs .tab .action{border-radius:0;padding:5px 15px;font-weight:bold;text-transform:uppercase;display:flex;align-items:center;height:100%;min-width:200px;background-color:#f3f1ef;color:#222;text-shadow:none}.item-answer .item-answer-tabs .answer-tabs .tab .action .icon{display:inline-block;font-size:2.5rem;font-weight:bold;padding:0}.item-answer .item-answer-tabs .answer-tabs .tab .action .label{padding-top:5px;display:inline-block;text-align:center;flex:1 1 auto}.item-answer .item-answer-tabs .answer-tabs .tab.active{border:2px solid #0e5d91;border-bottom:0 none}.item-answer .item-answer-tabs .answer-tabs .tab.active:last-child:first-child{border:0 none;border-top:2px solid #fff;border-bottom:2px solid #0e5d91}.item-answer .item-answer-tabs .answer-tabs .tab.active .action{color:#222;background-color:#fff}.item-answer .item-answer-score{position:relative;flex:1 0 auto;text-align:right;font-weight:bold;padding:10px 5px;border-bottom:2px solid #0e5d91}.item-answer .item-answer-status{position:relative;height:40px;line-height:20px;font-weight:bold;padding-top:10px}.item-answer .icon-correct:before{content:\"\\e69f\"}.item-answer .icon-incorrect:before{content:\"\\e69e\"}.item-answer .icon-answered:before{content:\"\\e69a\"}.item-answer .icon-skipped:before{content:\"\\e6a5\"}.item-answer .icon-informational:before{content:\"\\e63a\"}.item-answer:not(.show-correct):not(.show-score) .item-answer-bar{display:none}.item-answer.show-correct.correct .icon{color:#0b743c}.item-answer.show-correct.incorrect .icon,.item-answer.show-correct.skipped .icon{color:#950e22}.item-answer.skipped .item-answer-status{text-transform:uppercase;color:#950e22}.item-answer.disabled,.item-answer button[disabled]{background-color:inherit !important}.item-answer :focus{outline:0 none}.item-answer:not(.disabled) .navigable{position:relative}.item-answer:not(.disabled) .navigable:focus{outline:3px solid #0e5d91;outline-offset:-1px}.item-answer:not(.disabled) li.active .navigable:focus{outline-offset:-2px}\n\n/*# sourceMappingURL=ltiTestReview/review/plugins/content/item-answer/css/item-answer.css.map */.next-prev{margin:10px;display:flex;flex-direction:row-reverse;align-content:stretch}.next-prev .action{border-radius:0;text-transform:uppercase;flex:1 0 auto;margin-right:4px;height:36px;line-height:36px}.next-prev .action.right{margin-right:0}.next-prev .action.no-label{flex:0 0 auto}.next-prev .action.no-label .icon{padding:0}.next-prev .action.right .icon{float:right;display:block;margin-left:10px;width:10px}.next-prev .action .icon{height:36px;line-height:36px;font-size:2rem}.next-prev :focus{outline:0 none}.next-prev:not(.disabled) .action{position:relative}.next-prev:not(.disabled) .action:focus::after{content:' ';position:absolute;top:-4px;left:-4px;bottom:-4px;right:-4px;border:3px solid #0e5d91}\n\n/*# sourceMappingURL=ltiTestReview/review/plugins/navigation/next-prev/css/buttons.css.map */.review-panel{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;color:#222;position:relative;display:flex;flex-direction:column;justify-content:flex-start;cursor:default;width:100%;height:100%;padding:10px}.review-panel .review-panel-label{display:block;white-space:nowrap}.review-panel .review-panel-score{display:block;white-space:nowrap}.review-panel .collapsible>.review-panel-label{cursor:pointer;width:100%;line-height:3rem;padding:0 8px;font-size:1.5rem}.review-panel .collapsible>.review-panel-label .collapsible-arrow::before{font-family:'tao' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\"\\e611\";line-height:inherit;float:right}.review-panel .collapsible>.review-panel-block{display:none}.review-panel .collapsible.expanded>.review-panel-label .collapsible-arrow::before{content:\"\\e610\"}.review-panel .collapsible.expanded>.review-panel-block{display:block}.review-panel.disabled .review-panel-filters .review-panel-filter{cursor:not-allowed}.review-panel.disabled .collapsible>.review-panel-label{cursor:not-allowed}.review-panel.disabled .review-panel-item{cursor:not-allowed}.review-panel :focus{outline:0 none}.review-panel:not(.disabled) .navigable{position:relative}.review-panel:not(.disabled) .navigable:focus:after{content:' ';position:absolute;top:0px;left:0px;bottom:0px;right:0px;border:3px solid #0e5d91;z-index:100}.review-panel:not(.disabled) .review-panel-filters .review-panel-filter:focus:after{top:-5px;left:-5px;bottom:-5px;right:-5px}.review-panel .review-panel-header{display:flex;flex-direction:row;justify-content:space-between;padding:5px 8px;background-color:#D4D5D7;color:#222}.review-panel .review-panel-header .review-panel-label{font-size:1.5rem;font-weight:600}.review-panel .review-panel-header .review-panel-score{font-size:1.5rem;font-weight:bold}.review-panel .review-panel-footer{display:flex;flex-direction:row;justify-content:space-between;padding:5px 8px;background-color:#f3f1ef;color:#222}.review-panel .review-panel-footer .review-panel-label{font-size:1.4rem;padding-left:30px}.review-panel .review-panel-footer .review-panel-score{font-size:1.2rem}.review-panel .review-panel-filters{display:flex;flex-direction:row;justify-content:space-evenly;padding:3rem 0 1rem 0}.review-panel .review-panel-filters .review-panel-filter{display:block;border-bottom:1px solid transparent;cursor:pointer;padding:0 8px}.review-panel .review-panel-filters .review-panel-filter.active{border-bottom:1px solid #222}.review-panel .review-panel-filters .review-panel-filter .review-panel-label{font-size:1.4rem;font-weight:bold}.review-panel .review-panel-content{flex:0 1 auto;overflow-y:auto}.review-panel .review-panel-part{margin-top:1px}.review-panel .review-panel-part>.review-panel-label{background-color:#dddfe2}.review-panel .review-panel-part>.review-panel-label:hover{background-color:#c6cacf}.review-panel .review-panel-part.active>.review-panel-label{background-color:#c0c4ca}.review-panel .review-panel-section>.review-panel-label{background-color:#efecea;border-bottom:1px solid #fff}.review-panel .review-panel-section>.review-panel-label:hover{background-color:#ebe8e4}.review-panel .review-panel-section.active>.review-panel-label{background-color:#ded9d4}.review-panel .review-panel-item{display:flex;flex-direction:row;justify-content:space-between;background:#fff;cursor:pointer;line-height:3rem;padding:0 8px;margin:1px 0}.review-panel .review-panel-item .review-panel-label{flex:1 1 auto;width:calc(100% - 30px);text-align:left;overflow:hidden;text-overflow:ellipsis}.review-panel .review-panel-item .review-panel-score{flex:0 0 auto;width:30px;text-align:right}.review-panel .review-panel-item:first-child{margin-top:0}.review-panel .review-panel-item.active{background:#f4f7f8}.review-panel .review-panel-item:hover{background:#eef3f5}.review-panel .review-panel-item .review-panel-label{font-size:1.4rem}.review-panel .review-panel-item .review-panel-score{font-size:1.2rem}.review-panel .review-panel-item .review-panel-label:before{font-family:'tao' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:' ';display:inline-block;text-align:right;color:#ada194;width:30px;padding-right:5px;line-height:inherit}.review-panel .review-panel-item.item-info .review-panel-label:before{content:\"\\e63a\"}.review-panel .review-panel-item.item-skipped .review-panel-label:before{content:\"\\e6a5\"}.review-panel .review-panel-item.item-default .review-panel-label:before{content:\"\\e69a\"}.review-panel .review-panel-item.item-correct .review-panel-label:before{content:\"\\e69f\";color:#0e914b}.review-panel .review-panel-item.item-incorrect .review-panel-label:before{content:\"\\e69e\";color:#ba122b}\n\n/*# sourceMappingURL=ltiTestReview/review/plugins/navigation/review-panel/css/panel.css.map */"),define("ltiTestReview/loader/ltiTestReview.bundle",function(){}),define("ltiTestReview/loader/ltiTestReview.min",["taoItems/loader/taoItemsRunner.min","taoTests/loader/taoTestsRunner.min","taoQtiItem/loader/taoQtiItemRunner.min","taoQtiTest/loader/taoQtiTestRunner.min","taoQtiTest/loader/testPlugins.min","taoQtiTestPreviewer/loader/qtiPreviewer.min"],function(){});
//# sourceMappingURL=ltiTestReview.min.js.map